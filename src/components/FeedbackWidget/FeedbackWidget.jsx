import React, { useState } from "react";
import "./FeedbackWidget.css";

const FeedbackWidget = () => {
  const [isOpen, setIsOpen] = useState(false);

  const toggleWidget = () => {
    setIsOpen(!isOpen);
  };

  return (
    <div id="cs-fb-widget">
      <div className="feedback_widget_button" onClick={toggleWidget}>
        <div className="widget-icon">
          {isOpen ? (
            <svg
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.76248 8L15.1375 2.6375C15.3729 2.40212 15.5051 2.08288 15.5051 1.75C15.5051 1.41713 15.3729 1.09788 15.1375 0.862503C14.9021 0.627123 14.5829 0.494888 14.25 0.494888C13.9171 0.494888 13.5979 0.627123 13.3625 0.862503L7.99998 6.2375L2.63748 0.862503C2.40211 0.627123 2.08286 0.494888 1.74998 0.494888C1.41711 0.494888 1.09786 0.627123 0.862485 0.862503C0.627105 1.09788 0.49487 1.41713 0.49487 1.75C0.49487 2.08288 0.627105 2.40212 0.862485 2.6375L6.23748 8L0.862485 13.3625C0.745324 13.4787 0.652332 13.617 0.588871 13.7693C0.52541 13.9216 0.492737 14.085 0.492737 14.25C0.492737 14.415 0.52541 14.5784 0.588871 14.7307C0.652332 14.883 0.745324 15.0213 0.862485 15.1375C0.978688 15.2547 1.11694 15.3477 1.26926 15.4111C1.42159 15.4746 1.58497 15.5073 1.74998 15.5073C1.915 15.5073 2.07838 15.4746 2.23071 15.4111C2.38303 15.3477 2.52128 15.2547 2.63748 15.1375L7.99998 9.7625L13.3625 15.1375C13.4787 15.2547 13.6169 15.3477 13.7693 15.4111C13.9216 15.4746 14.085 15.5073 14.25 15.5073C14.415 15.5073 14.5784 15.4746 14.7307 15.4111C14.883 15.3477 15.0213 15.2547 15.1375 15.1375C15.2546 15.0213 15.3476 14.883 15.4111 14.7307C15.4746 14.5784 15.5072 14.415 15.5072 14.25C15.5072 14.085 15.4746 13.9216 15.4111 13.7693C15.3476 13.617 15.2546 13.4787 15.1375 13.3625L9.76248 8Z"
                fill="white"
              ></path>
            </svg>
          ) : (
            <svg
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0 15.3516C0 17.0312 0.478516 18.6133 1.43555 20.0977C2.39258 21.582 3.67188 22.793 5.27344 23.7305C5.19531 24.0039 5.10742 24.3555 5.00977 24.7852C4.91211 25.2148 4.77539 25.8887 4.59961 26.8066C4.42383 27.7246 4.35547 28.4863 4.39453 29.0918C4.43359 29.6973 4.62891 30 4.98047 30C6.15234 30 7.33398 29.6875 8.52539 29.0625C9.7168 28.4375 10.6641 27.8125 11.3672 27.1875C12.0703 26.5625 12.4414 26.25 12.4805 26.25C14.6289 26.25 16.7188 25.8398 18.75 25.0195C18.5156 24.9414 18.0762 24.707 17.4316 24.3164C16.7871 23.9258 16.3867 23.7305 16.2305 23.7305H12.4805C11.7773 23.7305 11.0352 24.1211 10.2539 24.9023C9.16016 25.8789 8.125 26.582 7.14844 27.0117L7.5 22.5L6.50391 21.6211C3.84766 19.9023 2.51953 17.8125 2.51953 15.3516C2.51953 14.7266 2.63672 14.0234 2.87109 13.2422C2.71484 13.0078 2.60742 12.6465 2.54883 12.1582C2.49023 11.6699 2.46094 11.2305 2.46094 10.8398V9.49219L2.51953 8.73047C0.839844 10.5273 0 12.7344 0 15.3516ZM17.5195 0C14.043 0 11.084 1.01562 8.64258 3.04688C6.20117 5.07812 4.98047 7.51953 4.98047 10.3711C4.98047 13.1836 6.19141 15.4883 8.61328 17.2852C11.0352 19.082 14.0039 19.9805 17.5195 19.9805C17.5586 19.9805 17.959 20.4004 18.7207 21.2402C19.4824 22.0801 20.4883 22.9199 21.7383 23.7598C22.9883 24.5996 24.1992 25.0195 25.3711 25.0195C25.6445 25.0195 25.8105 24.8047 25.8691 24.375C25.9277 23.9453 25.8984 23.4277 25.7812 22.8223C25.6641 22.2168 25.5273 21.6016 25.3711 20.9766C25.2148 20.3516 25.0781 19.8242 24.9609 19.3945L24.7266 18.75C26.3281 17.7734 27.6074 16.5527 28.5645 15.0879C29.5215 13.623 30 12.0508 30 10.3711C30 7.51953 28.7793 5.07812 26.3379 3.04688C23.8965 1.01562 20.957 0 17.5195 0ZM23.4961 16.6406L21.8555 17.6367L22.5 19.5117C22.5781 19.707 22.6758 20.0391 22.793 20.5078C22.9102 20.9766 23.0273 21.3477 23.1445 21.6211C22.2852 21.0352 21.2695 20.1562 20.0977 18.9844C19.1992 18.0078 18.3789 17.5195 17.6367 17.5195C14.9023 17.5195 12.5488 16.8848 10.5762 15.6152C8.60352 14.3457 7.61719 12.5977 7.61719 10.3711C7.57812 8.18359 8.52539 6.32812 10.459 4.80469C12.3926 3.28125 14.7461 2.51953 17.5195 2.51953C20.293 2.51953 22.6465 3.28125 24.5801 4.80469C26.5137 6.32812 27.4805 8.18359 27.4805 10.3711C27.4805 12.832 26.1523 14.9219 23.4961 16.6406Z"
                fill="white"
              ></path>
            </svg>
          )}
        </div>
      </div>
      {isOpen && (
        <div className="messangers-block">
          <a
            href="viber://chat?number=+491719437621"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img src="/icon_viber.svg" alt="Viber" className="fb-icon-img" />
            Viber
          </a>
          <a href="https://t.me/" target="_blank" rel="noopener noreferrer">
            <img src="/icon_teleg.svg" alt="Telegram" className="fb-icon-img" />
            Telegram
          </a>
          <a
            href="https://api.whatsapp.com/send?phone=+491719437621"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img
              src="/icon_whatsapp.svg"
              alt="WhatsApp"
              className="fb-icon-img"
            />
            WhatsApp
          </a>
          <a
            href="mailto:rami.akhmad@gmail.com"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img src="/icon_email.svg" alt="Email" className="fb-icon-img" />
            Send Email
          </a>
        </div>
      )}
    </div>
  );
};

export default FeedbackWidget;
